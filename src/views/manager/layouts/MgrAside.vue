<template>
    <div class="aside-container">
        <el-menu class="el-menu-vertical" :default-openeds="['article']" :default-active="active"
            :collapse-transition="false" :router="true">
            <el-menu-item index="/manager/dashboard">
                <el-icon>
                    <!-- <home theme="outline" size="24" fill="#333" /> -->
                    <svg t="1681396739672" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="18091" width="200" height="200">
                        <path
                            d="M512 330.472727a23.272727 23.272727 0 0 1-23.272727-23.272727V256a23.272727 23.272727 0 0 1 46.545454 0v51.2a23.272727 23.272727 0 0 1-23.272727 23.272727zM512 729.367273a97.512727 97.512727 0 1 1 97.512727-97.28A97.512727 97.512727 0 0 1 512 729.367273zM512 581.818182a50.967273 50.967273 0 1 0 50.967273 50.967273A50.967273 50.967273 0 0 0 512 581.818182z"
                            p-id="18092"></path>
                        <path
                            d="M512 556.450909a23.272727 23.272727 0 0 1-23.272727-23.272727v-74.007273a23.272727 23.272727 0 0 1 46.545454 0v74.007273a23.272727 23.272727 0 0 1-23.272727 23.272727zM700.276364 421.469091a23.272727 23.272727 0 0 1-16.290909-39.563636l37.46909-37.236364a23.272727 23.272727 0 0 1 32.814546 0 23.272727 23.272727 0 0 1 0 33.047273l-37.469091 37.003636a23.272727 23.272727 0 0 1-16.523636 6.749091zM317.672727 421.469091a23.272727 23.272727 0 0 1-16.523636-6.749091l-37.003636-37.003636a23.272727 23.272727 0 1 1 33.047272-33.047273l37.003637 37.236364a23.272727 23.272727 0 0 1 0 32.814545 23.272727 23.272727 0 0 1-16.523637 6.749091zM819.2 600.436364H768a23.272727 23.272727 0 0 1 0-46.545455h51.2a23.272727 23.272727 0 0 1 0 46.545455zM251.345455 600.436364H198.981818a23.272727 23.272727 0 0 1 0-46.545455h52.363637a23.272727 23.272727 0 0 1 0 46.545455z"
                            p-id="18093"></path>
                        <path
                            d="M770.56 852.712727H254.138182a122.647273 122.647273 0 0 1-107.054546-62.836363A418.909091 418.909091 0 1 1 930.909091 586.24a415.650909 415.650909 0 0 1-53.294546 203.636364 122.414545 122.414545 0 0 1-107.054545 62.836363zM512 214.574545a363.985455 363.985455 0 0 0-41.890909 2.327273A372.363636 372.363636 0 0 0 187.578182 768a76.567273 76.567273 0 0 0 66.56 39.098182h516.421818A75.869091 75.869091 0 0 0 837.818182 768a369.105455 369.105455 0 0 0 46.545454-180.829091 372.363636 372.363636 0 0 0-123.810909-277.643636A368.407273 368.407273 0 0 0 512 214.574545z"
                            p-id="18094"></path>
                    </svg>
                </el-icon>
                <template #title>仪表盘</template>
            </el-menu-item>
            <el-sub-menu index="article">
                <template #title>
                    <el-icon>
                        <!-- <list-view theme="outline" size="24" fill="#333" /> -->
                        <svg t="1681381979106" class="icon" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="2800" width="200" height="200">
                            <path
                                d="M777.13333789 924.39341387H244.03876104c-60.39758672 0-109.52429677-50.62949385-109.52429678-112.81610918V177.86779121C134.51446425 115.64539648 183.64117432 65.01590263 244.03876104 65.01590263h532.98723515c60.36180644 0 109.52429677 50.62949385 109.63163848 112.85188859v633.70951347c0 62.18661445-49.12671006 112.8161083-109.52429678 112.81610918z m0-802.70110283H244.03876104c-30.05567138 0-54.52957441 25.18951464-54.52957442 56.17548018v633.70951347c0 30.95018526 24.47390391 56.17548018 54.52957442 56.17548106h532.98723515c30.05567138 0 54.52957441-25.2252958 54.52957441-56.17548106l0.10734171-633.70951347c0-30.98596553-24.47390391-56.17548018-54.52957442-56.17548018z m-82.08060644 591.41689013H407.98529141a27.9088374 27.9088374 0 0 1-27.44369034-28.30242305 27.9088374 27.9088374 0 0 1 27.44369034-28.26664365h287.06744004a27.9088374 27.9088374 0 0 1 27.44369032 28.26664365 27.9088374 27.9088374 0 0 1-27.44369033 28.30242305z m0-126.73474628H407.98529141a27.9088374 27.9088374 0 0 1-27.44369034-28.30242393 27.9088374 27.9088374 0 0 1 27.44369034-28.26664278h287.06744004a27.9088374 27.9088374 0 0 1 27.44369032 28.26664278 27.9088374 27.9088374 0 0 1-27.44369033 28.30242393z m0-126.7347463H407.98529141a27.9088374 27.9088374 0 0 1-27.44369034-28.30242392 27.9088374 27.9088374 0 0 1 27.44369034-28.26664277h287.06744004a27.9088374 27.9088374 0 0 1 27.44369032 28.26664277 27.9088374 27.9088374 0 0 1-27.44369033 28.30242392z m0-126.73474716H407.98529141a27.9088374 27.9088374 0 0 1-27.44369034-28.30242305 27.9088374 27.9088374 0 0 1 27.44369034-28.26664365h287.06744004a27.9088374 27.9088374 0 0 1 27.44369032 28.26664365 27.9088374 27.9088374 0 0 1-27.44369033 28.30242305zM326.01202666 713.10920117a27.9088374 27.9088374 0 0 1-27.44369033-28.30242305 27.9088374 27.9088374 0 0 1 27.44369033-28.26664365 27.9088374 27.9088374 0 0 1 27.44369033 28.26664365 27.9088374 27.9088374 0 0 1-27.44369033 28.30242305z m0-126.73474628a27.9088374 27.9088374 0 0 1-27.44369033-28.30242393 27.9088374 27.9088374 0 0 1 27.44369033-28.26664278 27.9088374 27.9088374 0 0 1 27.44369033 28.26664278 27.9088374 27.9088374 0 0 1-27.44369033 28.30242393z m0-126.7347463a27.9088374 27.9088374 0 0 1-27.44369033-28.30242392 27.9088374 27.9088374 0 0 1 27.44369033-28.26664277 27.9088374 27.9088374 0 0 1 27.44369033 28.26664277 27.9088374 27.9088374 0 0 1-27.44369033 28.30242392z m0-126.73474716a27.9088374 27.9088374 0 0 1-27.44369033-28.30242305 27.9088374 27.9088374 0 0 1 27.44369033-28.26664365 27.9088374 27.9088374 0 0 1 27.44369033 28.26664365 27.9088374 27.9088374 0 0 1-27.44369033 28.30242305z"
                                p-id="2801"></path>
                        </svg>
                    </el-icon>
                    <span>文章管理</span>
                </template>
                <el-menu-item index="/manager/article/edit/0">
                    <el-icon>
                        <!-- <editor theme="outline" size="24" fill="#333" /> -->
                        <svg t="1681382011792" class="icon" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="3797" width="200" height="200">
                            <path
                                d="M800 960 224 960c-52.928 0-96-43.072-96-96L128 224c0-52.928 43.072-96 96-96l448 0c17.696 0 32 14.336 32 32s-14.304 32-32 32L224 192C206.368 192 192 206.368 192 224l0 640c0 17.664 14.368 32 32 32l576 0c17.664 0 32-14.336 32-32L832 352c0-17.664 14.304-32 32-32s32 14.336 32 32l0 512C896 916.928 852.928 960 800 960z"
                                fill="#5E6570" p-id="3798"></path>
                            <path
                                d="M511.68 542.72c-8.256 0-16.512-3.168-22.752-9.504-12.416-12.576-12.32-32.832 0.256-45.248L907.488 74.24c12.608-12.448 32.832-12.288 45.248 0.256 12.448 12.576 12.32 32.832-0.256 45.248L534.176 533.472C527.936 539.648 519.808 542.72 511.68 542.72z"
                                fill="#5E6570" p-id="3799"></path>
                        </svg>
                    </el-icon>
                    <span>新建文章</span>
                </el-menu-item>
                <el-menu-item index="/manager/article/list">
                    <el-icon>
                        <!-- <view-list theme="outline" size="24" fill="#333" /> -->
                        <svg t="1681382084284" class="icon" viewBox="0 0 1024 1024" version="1.1"
                            xmlns="http://www.w3.org/2000/svg" p-id="6393" width="200" height="200">
                            <path
                                d="M296 127.5H168a40 40 0 0 0-40 40v128a40 40 0 0 0 40 40h128a40 40 0 0 0 40-40v-128a40 40 0 0 0-40-40z m0 280H168a40 40 0 0 0-40 40v128a40 40 0 0 0 40 40h128a40 40 0 0 0 40-40v-128a40 40 0 0 0-40-40z m0 281H168a40 40 0 0 0-40 40v128a40 40 0 0 0 40 40h128a40 40 0 0 0 40-40v-128a40 40 0 0 0-40-40z m596 68H412a4 4 0 0 0-4 4v64a4 4 0 0 0 4 4h480a4 4 0 0 0 4-4v-64a4 4 0 0 0-4-4z m0-281H412a4 4 0 0 0-4 4v64a4 4 0 0 0 4 4h480a4 4 0 0 0 4-4v-64a4 4 0 0 0-4-4z m0-280H412a4 4 0 0 0-4 4v64a4 4 0 0 0 4 4h480a4 4 0 0 0 4-4v-64a4 4 0 0 0-4-4z"
                                p-id="6394"></path>
                        </svg>
                    </el-icon>
                    <span>文章列表</span>
                </el-menu-item>
            </el-sub-menu>
            <el-menu-item index="/manager/category">
                <el-icon>
                    <!-- <category-management theme="outline" size="24" fill="#333" /> -->
                    <svg t="1681382264944" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="11289" width="200" height="200">
                        <path
                            d="M291 485.7c-51.6 0-100.3-20.2-137-57-36.7-36.7-57-85.4-57-137s20.2-100.3 57-137c36.7-36.7 85.4-57 137-57 51.6 0 100.3 20.2 137 57 36.7 36.7 57 85.4 57 137s-20.2 100.3-57 137c-36.7 36.8-85.3 57-137 57z m0-340c-80.5 0-146 65.5-146 146s65.5 146 146 146 146-65.5 146-146-65.5-146-146-146zM291 927.7c-51.6 0-100.3-20.2-137-57-36.7-36.7-57-85.4-57-137s20.2-100.3 57-137 85.4-57 137-57c51.6 0 100.3 20.2 137 57s57 85.4 57 137c0 51.6-20.2 100.3-57 137-36.7 36.8-85.3 57-137 57z m0-340c-80.5 0-146 65.5-146 146s65.5 146 146 146 146-65.5 146-146-65.5-146-146-146zM803 927.7H663c-68.4 0-124-55.6-124-124v-140c0-13.3 10.7-24 24-24s24 10.7 24 24v140c0 41.9 34.1 76 76 76h140c41.9 0 76-34.1 76-76v-140c0-41.9-34.1-76-76-76H663c-13.3 0-24-10.7-24-24s10.7-24 24-24h140c68.4 0 124 55.6 124 124v140c0 68.4-55.6 124-124 124zM733 485.7c-51.6 0-100.3-20.2-137-57-36.7-36.7-57-85.4-57-137s20.2-100.3 57-137c36.7-36.7 85.4-57 137-57s100.3 20.2 137 57 57 85.4 57 137-20.2 100.3-57 137-85.3 57-137 57z m0-340c-80.5 0-146 65.5-146 146s65.5 146 146 146 146-65.5 146-146-65.5-146-146-146z"
                            p-id="11290"></path>
                    </svg>
                </el-icon>
                <template #title>分类管理</template>
            </el-menu-item>
            <el-menu-item index="/manager/tag">
                <el-icon>
                    <!-- <tag theme="outline" size="24" fill="#333" /> -->
                    <svg t="1681382234158" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="10297" width="200" height="200">
                        <path
                            d="M467.008 128l-10.016 8.992-352 352-21.984 23.008 21.984 23.008 288 288 23.008 21.984 23.008-21.984 352-352 8.992-10.016V128z m27.008 64H736v242.016l-320 320L173.984 512zM832 224v64h32v260.992l-304 302.016-40-40-44.992 44.992 61.984 63.008 23.008 21.984 22.016-21.984 336.96-333.024L928 576V224z m-192 32c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32z"
                            p-id="10298"></path>
                    </svg>
                </el-icon>
                <template #title>标签管理</template>
            </el-menu-item>
            <el-menu-item index="/manager/comment">
                <el-icon>
                    <!-- <comment theme="outline" size="24" fill="#333" /> -->
                    <svg t="1681382286303" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="12264" width="200" height="200">
                        <path
                            d="M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zM293 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"
                            p-id="12265"></path>
                        <path
                            d="M894 345c-48.1-66-115.3-110.1-189-130v0.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l0.8 132.6c0 3.2 0.5 6.4 1.5 9.4 5.3 16.9 23.3 26.2 40.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-0.5 0.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102z m505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-0.2-0.1C613.7 788.2 680.7 742.2 729 676c76.4-105.3 88.8-237.6 44.4-350.4l0.6 0.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"
                            p-id="12266"></path>
                        <path d="M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"
                            p-id="12267"></path>
                    </svg>
                </el-icon>
                <template #title>评论管理</template>
            </el-menu-item>
            <el-menu-item index="/manager/setting">
                <el-icon>
                    <!-- <setting-one theme="outline" size="24" fill="#333" /> -->
                    <svg t="1681382302305" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="13241" width="200" height="200">
                        <path
                            d="M904.533333 422.4l-85.333333-14.933333-17.066667-38.4 49.066667-70.4c14.933333-21.333333 12.8-49.066667-6.4-68.266667l-53.333333-53.333333c-19.2-19.2-46.933333-21.333333-68.266667-6.4l-70.4 49.066666-38.4-17.066666-14.933333-85.333334c-2.133333-23.466667-23.466667-42.666667-49.066667-42.666666h-74.666667c-25.6 0-46.933333 19.2-53.333333 44.8l-14.933333 85.333333-38.4 17.066667L296.533333 170.666667c-21.333333-14.933333-49.066667-12.8-68.266666 6.4l-53.333334 53.333333c-19.2 19.2-21.333333 46.933333-6.4 68.266667l49.066667 70.4-17.066667 38.4-85.333333 14.933333c-21.333333 4.266667-40.533333 25.6-40.533333 51.2v74.666667c0 25.6 19.2 46.933333 44.8 53.333333l85.333333 14.933333 17.066667 38.4L170.666667 727.466667c-14.933333 21.333333-12.8 49.066667 6.4 68.266666l53.333333 53.333334c19.2 19.2 46.933333 21.333333 68.266667 6.4l70.4-49.066667 38.4 17.066667 14.933333 85.333333c4.266667 25.6 25.6 44.8 53.333333 44.8h74.666667c25.6 0 46.933333-19.2 53.333333-44.8l14.933334-85.333333 38.4-17.066667 70.4 49.066667c21.333333 14.933333 49.066667 12.8 68.266666-6.4l53.333334-53.333334c19.2-19.2 21.333333-46.933333 6.4-68.266666l-49.066667-70.4 17.066667-38.4 85.333333-14.933334c25.6-4.266667 44.8-25.6 44.8-53.333333v-74.666667c-4.266667-27.733333-23.466667-49.066667-49.066667-53.333333z m-19.2 117.333333l-93.866666 17.066667c-10.666667 2.133333-19.2 8.533333-23.466667 19.2l-29.866667 70.4c-4.266667 10.666667-2.133333 21.333333 4.266667 29.866667l53.333333 76.8-40.533333 40.533333-76.8-53.333333c-8.533333-6.4-21.333333-8.533333-29.866667-4.266667L576 768c-10.666667 4.266667-17.066667 12.8-19.2 23.466667l-17.066667 93.866666h-57.6l-17.066666-93.866666c-2.133333-10.666667-8.533333-19.2-19.2-23.466667l-70.4-29.866667c-10.666667-4.266667-21.333333-2.133333-29.866667 4.266667l-76.8 53.333333-40.533333-40.533333 53.333333-76.8c6.4-8.533333 8.533333-21.333333 4.266667-29.866667L256 576c-4.266667-10.666667-12.8-17.066667-23.466667-19.2l-93.866666-17.066667v-57.6l93.866666-17.066666c10.666667-2.133333 19.2-8.533333 23.466667-19.2l29.866667-70.4c4.266667-10.666667 2.133333-21.333333-4.266667-29.866667l-53.333333-76.8 40.533333-40.533333 76.8 53.333333c8.533333 6.4 21.333333 8.533333 29.866667 4.266667L448 256c10.666667-4.266667 17.066667-12.8 19.2-23.466667l17.066667-93.866666h57.6l17.066666 93.866666c2.133333 10.666667 8.533333 19.2 19.2 23.466667l70.4 29.866667c10.666667 4.266667 21.333333 2.133333 29.866667-4.266667l76.8-53.333333 40.533333 40.533333-53.333333 76.8c-6.4 8.533333-8.533333 21.333333-4.266667 29.866667L768 448c4.266667 10.666667 12.8 17.066667 23.466667 19.2l93.866666 17.066667v55.466666z"
                            fill="#666666" p-id="13242"></path>
                        <path
                            d="M512 394.666667c-64 0-117.333333 53.333333-117.333333 117.333333s53.333333 117.333333 117.333333 117.333333 117.333333-53.333333 117.333333-117.333333-53.333333-117.333333-117.333333-117.333333z m0 170.666666c-29.866667 0-53.333333-23.466667-53.333333-53.333333s23.466667-53.333333 53.333333-53.333333 53.333333 23.466667 53.333333 53.333333-23.466667 53.333333-53.333333 53.333333z"
                            fill="#666666" p-id="13243"></path>
                    </svg>
                </el-icon>
                <template #title>站点设置</template>
            </el-menu-item>
            <el-menu-item @click="handleBackHome" index="">
                <el-icon>
                    <svg t="1681396769401" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="19390" width="200" height="200">
                        <path
                            d="M640 896h192V469.376h42.666667V896.213333c0 23.466667-19.029333 42.474667-42.666667 42.474667H597.333333V725.333333h-170.666666v213.333334H192c-23.573333 0-42.666667-18.986667-42.666667-42.453334V469.354667h42.666667V896h192V682.666667h256v213.333333z"
                            fill="#3D3D3D" p-id="19391"></path>
                        <path
                            d="M100.032 506.133333a21.333333 21.333333 0 1 1-29.397333-30.933333L466.282667 99.349333a66.688 66.688 0 0 1 91.434666 0L953.386667 475.2a21.333333 21.333333 0 1 1-29.397334 30.933333L528.341333 130.282667a24.021333 24.021333 0 0 0-32.682666 0L100.053333 506.133333zM832 192h-128a21.333333 21.333333 0 0 1 0-42.666667h149.333333a21.333333 21.333333 0 0 1 21.333334 21.333334v149.333333a21.333333 21.333333 0 0 1-42.666667 0V192z"
                            fill="#3D3D3D" p-id="19392"></path>
                    </svg>
                </el-icon>
                <template #title>返回前台</template>
            </el-menu-item>
            <el-menu-item @click="handleLogout" index="">
                <el-icon>
                    <!-- <setting-one theme="outline" size="24" fill="#333" /> -->
                    <svg t="1681382660373" class="icon" viewBox="0 0 1024 1024" version="1.1"
                        xmlns="http://www.w3.org/2000/svg" p-id="14211" width="200" height="200">
                        <path
                            d="M835.669333 554.666667h-473.173333A42.453333 42.453333 0 0 1 320 512a42.666667 42.666667 0 0 1 42.474667-42.666667h473.173333l-161.813333-161.834666a42.666667 42.666667 0 0 1 60.330666-60.330667l234.666667 234.666667a42.666667 42.666667 0 0 1 0 60.330666l-234.666667 234.666667a42.666667 42.666667 0 0 1-60.330666-60.330667L835.669333 554.666667zM554.666667 42.666667a42.666667 42.666667 0 1 1 0 85.333333H149.525333C137.578667 128 128 137.578667 128 149.482667v725.034666C128 886.4 137.6 896 149.525333 896H554.666667a42.666667 42.666667 0 1 1 0 85.333333H149.525333A106.816 106.816 0 0 1 42.666667 874.517333V149.482667A106.773333 106.773333 0 0 1 149.525333 42.666667H554.666667z"
                            fill="" p-id="14212"></path>
                    </svg>
                </el-icon>
                <template #title>退出登陆</template>
            </el-menu-item>
        </el-menu>
    </div>
</template>
  
<script setup>
import { ref } from 'vue';
import { useRoute, useRouter } from 'vue-router';
import { ElMessage, ElMessageBox } from 'element-plus'
import { logout } from '../../../api/user'

let active = ref('')
let route = useRoute()
let router = useRouter()
active = route.path

function handleBackHome() {
    window.location.href = "/"
}

function handleLogout() {
    ElMessageBox.confirm('确定要退出登陆吗？', '警告', {
        confirmButtonText: '确定',
        cancelButtonText: '取消',
        type: 'warning',
    }).then(() => {
        logout().then(resp => {
            if (resp.code !== 200) {
                ElMessage.error(resp.msg)
            } else {
                ElMessage.success('退出登录成功！')
                const token = localStorage.getItem('token');
                if (token) {
                    localStorage.removeItem('token')
                }
                setTimeout(() => {
                    window.location.href = '/'
                }, 1200);
            }
        })
    }).catch(() => {
        // 取消
    })
}

</script>

<style scoped>
.aside-container {
    width: 100%;
    height: calc(100vh - 60px);
}

.el-menu-vertical {
    height: 100%;
}

.el-menu-item.is-active {
    background-color: #ecf5ff;
}

.el-menu-item,
:deep().el-sub-menu__title {
    font-size: 16px;
    font-weight: 400;
}
</style>